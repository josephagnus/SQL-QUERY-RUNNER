{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useQuery } from \"@tanstack/react-query\";\nimport axios from \"axios\";\nimport dayjs from \"dayjs\";\nconst getUrl = key => `/json/${key}.json`;\nconst queries = {\n  employees: {\n    queryFn: async () => {\n      const url = getUrl(\"employees\");\n      try {\n        const response = await axios.get(url);\n        return response.data.map(item => {\n          const newAddress = Object.values(item.address).join(\" ,\");\n          return {\n            ...item,\n            address: newAddress,\n            id: item.employeeID,\n            birthDate: dayjs(item.birthDate).format(\"DD/MM/YYYY\"),\n            hireDate: dayjs(item.hireDate).format(\"DD/MM/YYYY\")\n          };\n        });\n      } catch (e) {\n        console.log(\"Caught error: \", e);\n      }\n    }\n  },\n  orders: {\n    queryFn: async () => {\n      const url = getUrl(\"orders\");\n      try {\n        const response = await axios.get(url);\n        return response.data.map(item => {\n          const newAddress = Object.values(item.shipAddress).join(\" ,\");\n          const details = JSON.stringify(item.details);\n          return {\n            ...item,\n            shipAddress: newAddress,\n            id: item.employeeID,\n            details\n          };\n        });\n      } catch (e) {\n        console.log(\"Caught error: \", e);\n      }\n    }\n  }\n};\nconst useFavourites = key => {\n  _s();\n  const {\n    queryFn,\n    onSuccess\n  } = queries[key] || {};\n  return useQuery({\n    queryFn,\n    queryKey: [`FAVOURITES-${key}`],\n    enabled: !!key,\n    onSuccess\n  });\n};\n_s(useFavourites, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});\nexport default useFavourites;","map":{"version":3,"names":["useQuery","axios","dayjs","getUrl","key","queries","employees","queryFn","url","response","get","data","map","item","newAddress","Object","values","address","join","id","employeeID","birthDate","format","hireDate","e","console","log","orders","shipAddress","details","JSON","stringify","useFavourites","_s","onSuccess","queryKey","enabled"],"sources":["/Users/agnusmariajoseph/Documents/study/misc/sql-query-runner/src/queries/useFavourites.js"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\nimport axios from \"axios\";\nimport dayjs from \"dayjs\";\n\nconst getUrl = (key) => `/json/${key}.json`;\n\nconst queries = {\n  employees: {\n    queryFn: async () => {\n      const url = getUrl(\"employees\");\n      try {\n        const response = await axios.get(url);\n        return response.data.map((item) => {\n          const newAddress = Object.values(item.address).join(\" ,\");\n          return {\n            ...item,\n            address: newAddress,\n            id: item.employeeID,\n            birthDate: dayjs(item.birthDate).format(\"DD/MM/YYYY\"),\n            hireDate: dayjs(item.hireDate).format(\"DD/MM/YYYY\"),\n          };\n        });\n      } catch (e) {\n        console.log(\"Caught error: \", e);\n      }\n    },\n  },\n  orders: {\n    queryFn: async () => {\n      const url = getUrl(\"orders\");\n      try {\n        const response = await axios.get(url);\n        return response.data.map((item) => {\n          const newAddress = Object.values(item.shipAddress).join(\" ,\");\n          const details = JSON.stringify(item.details);\n          return {\n            ...item,\n            shipAddress: newAddress,\n            id: item.employeeID,\n            details,\n          };\n        });\n      } catch (e) {\n        console.log(\"Caught error: \", e);\n      }\n    },\n  },\n};\n\nconst useFavourites = (key) => {\n  const { queryFn, onSuccess } = queries[key] || {};\n  return useQuery({\n    queryFn,\n    queryKey: [`FAVOURITES-${key}`],\n    enabled: !!key,\n    onSuccess,\n  });\n};\n\nexport default useFavourites;\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,uBAAuB;AAChD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,MAAM,GAAIC,GAAG,IAAM,SAAQA,GAAI,OAAM;AAE3C,MAAMC,OAAO,GAAG;EACdC,SAAS,EAAE;IACTC,OAAO,EAAE,MAAAA,CAAA,KAAY;MACnB,MAAMC,GAAG,GAAGL,MAAM,CAAC,WAAW,CAAC;MAC/B,IAAI;QACF,MAAMM,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAACF,GAAG,CAAC;QACrC,OAAOC,QAAQ,CAACE,IAAI,CAACC,GAAG,CAAEC,IAAI,IAAK;UACjC,MAAMC,UAAU,GAAGC,MAAM,CAACC,MAAM,CAACH,IAAI,CAACI,OAAO,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;UACzD,OAAO;YACL,GAAGL,IAAI;YACPI,OAAO,EAAEH,UAAU;YACnBK,EAAE,EAAEN,IAAI,CAACO,UAAU;YACnBC,SAAS,EAAEnB,KAAK,CAACW,IAAI,CAACQ,SAAS,CAAC,CAACC,MAAM,CAAC,YAAY,CAAC;YACrDC,QAAQ,EAAErB,KAAK,CAACW,IAAI,CAACU,QAAQ,CAAC,CAACD,MAAM,CAAC,YAAY;UACpD,CAAC;QACH,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOE,CAAC,EAAE;QACVC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,CAAC,CAAC;MAClC;IACF;EACF,CAAC;EACDG,MAAM,EAAE;IACNpB,OAAO,EAAE,MAAAA,CAAA,KAAY;MACnB,MAAMC,GAAG,GAAGL,MAAM,CAAC,QAAQ,CAAC;MAC5B,IAAI;QACF,MAAMM,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAACF,GAAG,CAAC;QACrC,OAAOC,QAAQ,CAACE,IAAI,CAACC,GAAG,CAAEC,IAAI,IAAK;UACjC,MAAMC,UAAU,GAAGC,MAAM,CAACC,MAAM,CAACH,IAAI,CAACe,WAAW,CAAC,CAACV,IAAI,CAAC,IAAI,CAAC;UAC7D,MAAMW,OAAO,GAAGC,IAAI,CAACC,SAAS,CAAClB,IAAI,CAACgB,OAAO,CAAC;UAC5C,OAAO;YACL,GAAGhB,IAAI;YACPe,WAAW,EAAEd,UAAU;YACvBK,EAAE,EAAEN,IAAI,CAACO,UAAU;YACnBS;UACF,CAAC;QACH,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOL,CAAC,EAAE;QACVC,OAAO,CAACC,GAAG,CAAC,gBAAgB,EAAEF,CAAC,CAAC;MAClC;IACF;EACF;AACF,CAAC;AAED,MAAMQ,aAAa,GAAI5B,GAAG,IAAK;EAAA6B,EAAA;EAC7B,MAAM;IAAE1B,OAAO;IAAE2B;EAAU,CAAC,GAAG7B,OAAO,CAACD,GAAG,CAAC,IAAI,CAAC,CAAC;EACjD,OAAOJ,QAAQ,CAAC;IACdO,OAAO;IACP4B,QAAQ,EAAE,CAAE,cAAa/B,GAAI,EAAC,CAAC;IAC/BgC,OAAO,EAAE,CAAC,CAAChC,GAAG;IACd8B;EACF,CAAC,CAAC;AACJ,CAAC;AAACD,EAAA,CARID,aAAa;EAAA,QAEVhC,QAAQ;AAAA;AAQjB,eAAegC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}